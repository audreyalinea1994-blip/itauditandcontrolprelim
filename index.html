<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IT Audit Complete Course</title>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
        }

        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;600;700&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .course-container {
            background: white;
            height: 100%;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .content-wrapper {
            flex: 1;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: #667eea #f3f4f6;
        }

        .content-wrapper::-webkit-scrollbar {
            width: 8px;
        }

        .content-wrapper::-webkit-scrollbar-track {
            background: #f3f4f6;
        }

        .content-wrapper::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 4px;
        }

        .header-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .card-hover {
            transition: all 0.3s ease;
        }

        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(102, 126, 234, 0.15);
        }

        .progress-bar {
            height: 4px;
            background: #e5e7eb;
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 2px;
            transition: width 0.3s ease;
        }

        .badge-success {
            background: #d1fae5;
            color: #065f46;
        }

        .badge-pending {
            background: #fef3c7;
            color: #92400e;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 10px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .quiz-option {
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            margin: 8px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .quiz-option:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .quiz-option.selected {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .quiz-option.correct {
            border-color: #10b981;
            background: #d1fae5;
        }

        .quiz-option.incorrect {
            border-color: #ef4444;
            background: #fee2e2;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.3s ease;
            overflow-y: auto;
            padding: 20px;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            max-width: 850px;
            width: 100%;
            animation: slideUp 0.3s ease;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .icon-circle {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .tab-active {
            border-bottom: 3px solid #667eea;
            color: #667eea;
        }

        .tab-inactive {
            border-bottom: 3px solid transparent;
            color: #9ca3af;
        }

        .lesson-content {
            line-height: 1.8;
            color: #374151;
            font-size: 14px;
        }

        .lesson-content h3 {
            color: #667eea;
            margin-top: 14px;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 15px;
        }

        .lesson-content h4 {
            color: #555;
            margin-top: 10px;
            margin-bottom: 6px;
            font-weight: 600;
            font-size: 14px;
        }

        .lesson-content ul, .lesson-content ol {
            margin-left: 16px;
            margin-bottom: 8px;
        }

        .lesson-content li {
            margin-bottom: 4px;
            line-height: 1.6;
        }

        .lesson-content p {
            margin-bottom: 8px;
        }

        .example-box {
            background: #f0f4ff;
            border-left: 4px solid #667eea;
            padding: 10px;
            margin: 10px 0;
            border-radius: 6px;
            font-size: 13px;
        }

        .activity-card {
            border: 2px dashed #667eea;
            border-radius: 8px;
            padding: 12px;
            background: #f8f7ff;
            margin: 10px 0;
        }

        .loading-spinner {
            width: 16px;
            height: 16px;
            border: 2px solid #f3f4f6;
            border-top: 2px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            display: inline-block;
            margin-left: 8px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .modal-header {
            border-bottom: 1px solid #e5e7eb;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: start;
        }

        .modal-body {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .modal-footer {
            border-top: 1px solid #e5e7eb;
            padding: 16px 20px;
            display: flex;
            gap: 12px;
            justify-content: flex-end;
        }
    </style>
  <style>body { box-sizing: border-box; }</style>
 </head>
 <body>
  <div class="course-container"><!-- Header -->
   <div class="header-gradient text-white p-6 shadow-lg">
    <div class="flex items-center justify-between">
     <div>
      <h1 id="courseTitle" class="text-3xl font-bold">IT Audit Complete Course</h1>
      <p id="welcomeMsg" class="text-purple-100 mt-2">Master IT Audit fundamentals with comprehensive modules</p>
     </div>
     <div class="text-right">
      <div class="text-4xl font-bold" id="progressPercent">
       0%
      </div>
      <p class="text-purple-100 text-sm">Complete</p>
     </div>
    </div>
   </div><!-- Navigation Tabs -->
   <div class="bg-white border-b border-gray-200 sticky top-0 z-40">
    <div class="max-w-7xl mx-auto px-6 py-4 flex gap-6 overflow-x-auto"><button id="tabOverview" class="nav-tab tab-active font-600 pb-3 whitespace-nowrap" data-tab="overview">ðŸ“‹ Overview</button> <button id="tabCourses" class="nav-tab tab-inactive font-600 pb-3 whitespace-nowrap" data-tab="courses">ðŸ“š Lessons</button> <button id="tabProgress" class="nav-tab tab-inactive font-600 pb-3 whitespace-nowrap" data-tab="progress">ðŸ“Š Progress</button>
    </div>
   </div><!-- Main Content -->
   <div class="content-wrapper">
    <div class="max-w-7xl mx-auto px-6 py-8"><!-- Overview Tab -->
     <div id="overviewTab" class="tab-content">
      <div class="grid md:grid-cols-2 gap-6 mb-8">
       <div class="card-hover bg-white rounded-lg p-6 border border-gray-200">
        <div class="text-5xl mb-4">
         ðŸŽ¯
        </div>
        <h3 class="text-xl font-bold text-gray-900 mb-2">Course Overview</h3>
        <p class="text-gray-600 mb-4 text-sm">Complete IT Audit training with 10 detailed lessons covering all essential topics and frameworks.</p>
        <div class="progress-bar mb-3">
         <div class="progress-fill" id="overviewProgress" style="width: 0%"></div>
        </div>
        <p class="text-sm text-gray-500" id="overviewText">Ready to start</p>
       </div>
       <div class="card-hover bg-white rounded-lg p-6 border border-gray-200">
        <div class="text-5xl mb-4">
         ðŸ“–
        </div>
        <h3 class="text-xl font-bold text-gray-900 mb-2">Learning Outcomes</h3>
        <ul class="text-gray-600 text-sm space-y-1">
         <li>âœ“ Master IT Audit fundamentals</li>
         <li>âœ“ Understand key frameworks</li>
         <li>âœ“ Learn governance &amp; controls</li>
         <li>âœ“ Risk assessment techniques</li>
         <li>âœ“ Audit planning &amp; execution</li>
        </ul>
       </div>
      </div>
      <div class="bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-8 mb-8 border border-purple-200">
       <h2 class="text-2xl font-bold text-gray-900 mb-6">ðŸ“š 5-Week Course Structure</h2>
       <div class="grid md:grid-cols-5 gap-4">
        <div class="bg-white rounded-lg p-4 text-center border-l-4 border-purple-500">
         <div class="text-3xl font-bold text-purple-600 mb-2">
          1
         </div>
         <p class="font-bold text-gray-900 text-sm">Week 1</p>
         <p class="text-xs text-gray-600">Introduction &amp; Roles</p>
        </div>
        <div class="bg-white rounded-lg p-4 text-center border-l-4 border-blue-500">
         <div class="text-3xl font-bold text-blue-600 mb-2">
          2
         </div>
         <p class="font-bold text-gray-900 text-sm">Week 2</p>
         <p class="text-xs text-gray-600">Frameworks</p>
        </div>
        <div class="bg-white rounded-lg p-4 text-center border-l-4 border-indigo-500">
         <div class="text-3xl font-bold text-indigo-600 mb-2">
          3
         </div>
         <p class="font-bold text-gray-900 text-sm">Week 3</p>
         <p class="text-xs text-gray-600">Governance</p>
        </div>
        <div class="bg-white rounded-lg p-4 text-center border-l-4 border-pink-500">
         <div class="text-3xl font-bold text-pink-600 mb-2">
          4
         </div>
         <p class="font-bold text-gray-900 text-sm">Week 4</p>
         <p class="text-xs text-gray-600">Risk Mgmt</p>
        </div>
        <div class="bg-white rounded-lg p-4 text-center border-l-4 border-orange-500">
         <div class="text-3xl font-bold text-orange-600 mb-2">
          5
         </div>
         <p class="font-bold text-gray-900 text-sm">Week 5</p>
         <p class="text-xs text-gray-600">Audit Execution</p>
        </div>
       </div>
      </div>
     </div><!-- Courses Tab -->
     <div id="coursesTab" class="tab-content hidden">
      <div id="lessonsContainer" class="space-y-6"><!-- Lessons will be populated here -->
      </div>
     </div><!-- Progress Tab -->
     <div id="progressTab" class="tab-content hidden">
      <div class="bg-white rounded-lg p-8 border border-gray-200">
       <h2 class="text-2xl font-bold text-gray-900 mb-6">Your Learning Progress</h2>
       <div class="space-y-6" id="progressList"><!-- Progress will be populated here -->
       </div>
      </div>
     </div>
    </div>
   </div>
  </div><!-- Lesson Modal -->
  <div id="lessonModal" class="modal-overlay hidden">
   <div class="modal-content">
    <div class="modal-header">
     <div>
      <h2 id="modalTitle" class="text-2xl font-bold text-gray-900">Lesson Title</h2>
      <p id="modalSubtitle" class="text-gray-600 mt-1 text-sm"></p>
     </div><button class="close-modal text-gray-400 hover:text-gray-600 text-2xl font-bold">âœ•</button>
    </div>
    <div class="modal-body">
     <div id="modalContent" class="lesson-content mb-8"><!-- Content will be populated -->
     </div>
     <div id="modalActivity" class="mb-8"><!-- Activity will be populated -->
     </div>
     <div id="modalQuiz" class="mb-8"><!-- Quiz will be populated -->
     </div>
    </div>
    <div class="modal-footer"><button class="close-modal px-6 py-2 border border-gray-300 rounded-lg font-bold text-gray-700 hover:bg-gray-50">Close</button> <button id="completeBtn" class="btn-primary" style="display: none;">Mark Complete</button>
    </div>
   </div>
  </div>
  <script>
        // Complete Course Data with all 5 weeks and 10 lessons
        const courseData = {
            weeks: [
                {
                    week: 1,
                    title: "Introduction to IT Audit and Controls",
                    lessons: [
                        {
                            id: "w1l1",
                            title: "What is IT Audit?",
                            subtitle: "Understanding fundamentals and objectives",
                            content: `
                                <h3>Introduction to IT Audit</h3>
                                <p>IT Audit is a systematic, documented examination and evaluation of IT systems, controls, and processes to determine whether they are functioning effectively and securely while supporting business objectives.</p>

                                <h3>Primary Objectives of IT Audit</h3>
                                <ul>
                                    <li><strong>Ensure Compliance:</strong> Verify adherence to regulatory requirements, standards, and policies</li>
                                    <li><strong>Assess Controls:</strong> Evaluate design and effectiveness of IT controls and security measures</li>
                                    <li><strong>Identify Risks:</strong> Detect vulnerabilities, threats, and control weaknesses</li>
                                    <li><strong>Improve Efficiency:</strong> Recommend optimizations for IT operations</li>
                                    <li><strong>Protect Assets:</strong> Safeguard information and technological resources</li>
                                </ul>

                                <div class="example-box">
                                    <strong>Example:</strong> A retail company implements IT Audit for their e-commerce platform. The audit discovers customer payment data is not encrypted. After audit recommendations, encryption is implemented within 60 days, preventing potential data breaches.
                                </div>

                                <h3>Key Characteristics</h3>
                                <ul>
                                    <li>Independent and objective assessment</li>
                                    <li>Systematic testing of controls</li>
                                    <li>Documented evidence collection</li>
                                    <li>Risk-based approach to resource allocation</li>
                                    <li>Recommendations for improvement</li>
                                </ul>
                            `,
                            activity: {
                                type: "discussion",
                                title: "Reflection Activity",
                                instruction: "Think of an IT system in your organization or one you're familiar with. What are 3 critical controls that need to be audited and why?"
                            },
                            quiz: [
                                {
                                    question: "What is the PRIMARY purpose of IT Audit?",
                                    options: [
                                        { text: "To replace IT staff", correct: false },
                                        { text: "To examine IT systems and ensure controls are effective", correct: true },
                                        { text: "To eliminate all IT risks", correct: false },
                                        { text: "To increase IT spending", correct: false }
                                    ]
                                },
                                {
                                    question: "Which is NOT a typical IT Audit objective?",
                                    options: [
                                        { text: "Ensure compliance", correct: false },
                                        { text: "Assess controls", correct: false },
                                        { text: "Operate IT systems daily", correct: true },
                                        { text: "Identify risks", correct: false }
                                    ]
                                },
                                {
                                    question: "What characteristic of IT Audit is most critical for credibility?",
                                    options: [
                                        { text: "Speed of completion", correct: false },
                                        { text: "Independence and objectivity", correct: true },
                                        { text: "Cost effectiveness", correct: false },
                                        { text: "Number of findings", correct: false }
                                    ]
                                }
                            ]
                        },
                        {
                            id: "w1l2",
                            title: "Role of IT Auditing in Organizations",
                            subtitle: "Strategic value and stakeholder relationships",
                            content: `
                                <h3>Strategic Importance of IT Audit</h3>
                                <p>IT Audit has evolved from a purely technical compliance function to a strategic business partner. Modern organizations depend critically on IT for competitive advantage, making IT audit essential for governance and risk management.</p>

                                <h3>IT Audit Functions</h3>
                                <ul>
                                    <li><strong>Governance Support:</strong> Ensures IT aligns with business strategy</li>
                                    <li><strong>Risk Management:</strong> Identifies and mitigates IT-related risks</li>
                                    <li><strong>Compliance Monitoring:</strong> Verifies adherence to regulations (GDPR, HIPAA, SOX)</li>
                                    <li><strong>Control Assessment:</strong> Evaluates effectiveness of preventive and detective controls</li>
                                    <li><strong>Performance Evaluation:</strong> Measures IT service delivery and efficiency</li>
                                </ul>

                                <h3>Key Stakeholders</h3>
                                <ul>
                                    <li><strong>Board/Audit Committee:</strong> Provides governance oversight and receives audit reports</li>
                                    <li><strong>Management:</strong> Uses audit findings for decision-making</li>
                                    <li><strong>IT Leadership:</strong> Implements audit recommendations</li>
                                    <li><strong>Regulatory Bodies:</strong> Requires compliance reporting</li>
                                    <li><strong>External Auditors:</strong> May rely on IT audit work</li>
                                </ul>

                                <div class="example-box">
                                    <strong>Example:</strong> A healthcare provider's IT Audit discovered that backup processes were not automated. Implementation of automated backups with alerts prevented potential data loss and compliance violations.
                                </div>

                                <h3>IT Audit Independence</h3>
                                <p>IT auditors must be organizationally independent from the IT function they audit. They typically report to the Chief Audit Executive or Audit Committee, not IT management. This independence is critical for credibility and objectivity.</p>
                            `,
                            activity: {
                                type: "case-study",
                                title: "Organizational Risk Scenario",
                                instruction: "A financial services company just discovered their user access system hasn't been audited in 3 years. As an IT auditor, what are the top 5 risks you'd investigate?"
                            },
                            quiz: [
                                {
                                    question: "Who should IT Auditors report to?",
                                    options: [
                                        { text: "The Chief Information Officer (CIO)", correct: false },
                                        { text: "The Chief Audit Executive or Audit Committee", correct: true },
                                        { text: "The VP of Finance", correct: false },
                                        { text: "The IT Operations Manager", correct: false }
                                    ]
                                },
                                {
                                    question: "Which is a KEY benefit of IT Audit for organizations?",
                                    options: [
                                        { text: "Reducing all IT risks completely", correct: false },
                                        { text: "Reducing operational and security risks", correct: true },
                                        { text: "Replacing legacy systems", correct: false },
                                        { text: "Automating IT operations", correct: false }
                                    ]
                                },
                                {
                                    question: "Why is IT Audit independence important?",
                                    options: [
                                        { text: "To reduce audit costs", correct: false },
                                        { text: "To ensure objective assessment without conflicts of interest", correct: true },
                                        { text: "To speed up the audit process", correct: false },
                                        { text: "To manage audit staff", correct: false }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    week: 2,
                    title: "IT Audit Standards and Frameworks",
                    lessons: [
                        {
                            id: "w2l1",
                            title: "COBIT Framework",
                            subtitle: "Enterprise IT governance model",
                            content: `
                                <h3>What is COBIT?</h3>
                                <p>COBIT (Control Objectives for Information and Related Technology) is a comprehensive framework that aligns IT with business objectives. Developed by ISACA, COBIT provides governance and management structures for IT investments and controls.</p>

                                <h3>COBIT 2019 Core Principles</h3>
                                <ul>
                                    <li><strong>Meeting Stakeholder Needs:</strong> Create and deliver value while balancing stakeholder interests</li>
                                    <li><strong>Covering the Enterprise:</strong> Integrate all functions involved in IT management</li>
                                    <li><strong>Single Integrated Framework:</strong> Harmonize IT governance approaches</li>
                                    <li><strong>Holistic Approach:</strong> Balance governance and management dimensions</li>
                                    <li><strong>Separate Governance from Management:</strong> Clear distinction between Board and executive responsibilities</li>
                                </ul>

                                <h3>COBIT Governance and Management Domains</h3>
                                <ul>
                                    <li><strong>Governance (EDM):</strong> Oversee and direct IT through 5 objectives</li>
                                    <li><strong>Management (APO):</strong> Align, Plan, Organise</li>
                                    <li><strong>Management (BAI):</strong> Build, Acquire, Implement</li>
                                    <li><strong>Management (DSS):</strong> Deliver, Service, Support</li>
                                    <li><strong>Management (MEA):</strong> Monitor, Evaluate, Assess</li>
                                </ul>

                                <div class="example-box">
                                    <strong>Example:</strong> A manufacturing company maps critical processes to COBIT domains: Payment System â†’ BAI02 (Requirements Definition), Email System â†’ DSS01 (Operations), Budget Tracking â†’ EDM01 (Value Delivery).
                                </div>

                                <h3>COBIT Maturity Levels</h3>
                                <ul>
                                    <li><strong>Level 0 - Incomplete:</strong> Process not performed</li>
                                    <li><strong>Level 1 - Performed:</strong> Process produces intended results informally</li>
                                    <li><strong>Level 2 - Managed:</strong> Process is planned and monitored</li>
                                    <li><strong>Level 3 - Defined:</strong> Process is documented and communicated</li>
                                    <li><strong>Level 4 - Quantitatively Managed:</strong> Process is managed using metrics</li>
                                    <li><strong>Level 5 - Optimised:</strong> Focus on continuous improvement</li>
                                </ul>
                            `,
                            activity: {
                                type: "mapping",
                                title: "COBIT Process Mapping",
                                instruction: "List 5 IT processes in your organization and identify which COBIT domain (APO, BAI, DSS, MEA, or EDM) each belongs to. Write one control objective for each."
                            },
                            quiz: [
                                {
                                    question: "How many core principles does COBIT 2019 have?",
                                    options: [
                                        { text: "3", correct: false },
                                        { text: "5", correct: true },
                                        { text: "7", correct: false },
                                        { text: "10", correct: false }
                                    ]
                                },
                                {
                                    question: "Which COBIT domain includes monitoring and evaluation?",
                                    options: [
                                        { text: "APO", correct: false },
                                        { text: "MEA", correct: true },
                                        { text: "BAI", correct: false },
                                        { text: "DSS", correct: false }
                                    ]
                                },
                                {
                                    question: "What does Capability Level 3 represent?",
                                    options: [
                                        { text: "Incomplete process", correct: false },
                                        { text: "Defined and documented process", correct: true },
                                        { text: "Optimised process", correct: false },
                                        { text: "Quantitatively managed", correct: false }
                                    ]
                                }
                            ]
                        },
                        {
                            id: "w2l2",
                            title: "ISO 27001 and ITIL Standards",
                            subtitle: "Security and service management frameworks",
                            content: `
                                <h3>ISO/IEC 27001 Information Security Management</h3>
                                <p>ISO/IEC 27001 is an international standard specifying requirements for an Information Security Management System (ISMS). Organizations can be certified against this standard, focusing on protecting information from confidentiality, integrity, and availability threats.</p>

                                <h3>ISO/IEC 27001 Core Components</h3>
                                <ul>
                                    <li><strong>Context Assessment:</strong> Understand organization, stakeholders, and requirements</li>
                                    <li><strong>Risk Assessment:</strong> Systematically identify and evaluate security risks</li>
                                    <li><strong>Risk Treatment:</strong> Develop plans to mitigate identified risks</li>
                                    <li><strong>Security Policies:</strong> Establish organizational security policies</li>
                                    <li><strong>Control Implementation:</strong> Implement specific security measures</li>
                                    <li><strong>Monitoring and Measurement:</strong> Assess ISMS effectiveness</li>
                                </ul>

                                <div class="example-box">
                                    <strong>Example:</strong> A healthcare clinic implements ISO 27001 for patient data. Risk Assessment identifies weak passwords. Risk Treatment: Implement MFA. Result: Patient data protected with multi-factor authentication.
                                </div>

                                <h3>ITIL - IT Service Management</h3>
                                <p>ITIL (Information Technology Infrastructure Library) provides best practices for IT service management focused on delivering value to customers through IT services.</p>

                                <h3>ITIL Service Lifecycle</h3>
                                <ul>
                                    <li><strong>Service Strategy:</strong> Align IT services with business needs</li>
                                    <li><strong>Service Design:</strong> Design IT services that meet requirements</li>
                                    <li><strong>Service Transition:</strong> Manage changes and deploy services</li>
                                    <li><strong>Service Operation:</strong> Day-to-day delivery of IT services</li>
                                    <li><strong>Continual Service Improvement:</strong> Continuously optimize services</li>
                                </ul>

                                <h3>Key ITIL Processes Audited</h3>
                                <ul>
                                    <li>Incident Management - Track and resolve service disruptions</li>
                                    <li>Change Management - Control changes to IT systems</li>
                                    <li>Problem Management - Identify root causes of incidents</li>
                                    <li>Service Desk - Central point for user requests</li>
                                    <li>Capacity Planning - Ensure sufficient resources</li>
                                </ul>
                            `,
                            activity: {
                                type: "comparison",
                                title: "Framework Assessment",
                                instruction: "Compare COBIT, ISO 27001, and ITIL. Create a matrix showing: (1) Primary Focus, (2) Best For (what type of audit), (3) Certification Available (Yes/No). Which framework would you use for each: Security Audit? Service Delivery Audit? Governance Audit?"
                            },
                            quiz: [
                                {
                                    question: "What is the PRIMARY focus of ISO/IEC 27001?",
                                    options: [
                                        { text: "IT service delivery", correct: false },
                                        { text: "Information security management", correct: true },
                                        { text: "IT governance", correct: false },
                                        { text: "Change management", correct: false }
                                    ]
                                },
                                {
                                    question: "Which ITIL phase focuses on day-to-day service delivery?",
                                    options: [
                                        { text: "Service Design", correct: false },
                                        { text: "Service Strategy", correct: false },
                                        { text: "Service Operation", correct: true },
                                        { text: "Service Transition", correct: false }
                                    ]
                                },
                                {
                                    question: "Can organizations be formally certified against COBIT?",
                                    options: [
                                        { text: "Yes, like ISO certification", correct: false },
                                        { text: "No, COBIT provides guidance but no formal certification", correct: true },
                                        { text: "Only for large enterprises", correct: false },
                                        { text: "Only in specific industries", correct: false }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    week: 3,
                    title: "IT Governance and Control Environment",
                    lessons: [
                        {
                            id: "w3l1",
                            title: "IT Governance Framework",
                            subtitle: "Structures, processes, and decision-making",
                            content: `
                                <h3>Understanding IT Governance</h3>
                                <p>IT Governance is the system by which an organization's Board and executives direct and control the use of IT. It ensures IT supports business objectives while managing IT-related risks and resource utilization.</p>

                                <h3>Five Key IT Governance Objectives</h3>
                                <ul>
                                    <li><strong>Strategic Alignment:</strong> IT strategy is linked to business strategy</li>
                                    <li><strong>Value Delivery:</strong> IT investments consistently deliver measurable business value</li>
                                    <li><strong>Risk Management:</strong> IT-related risks are systematically managed</li>
                                    <li><strong>Resource Management:</strong> IT resources are acquired and managed cost-effectively</li>
                                    <li><strong>Performance Measurement:</strong> IT performance is measured and reported</li>
                                </ul>

                                <div class="example-box">
                                    <strong>Example:</strong> Company Strategy: "Expand e-commerce to capture new market share". IT Governance Action: IT Steering Committee prioritizes e-commerce platform development. Result: IT investments align with business growth strategy.
                                </div>

                                <h3>IT Governance Organizational Structures</h3>
                                <ul>
                                    <li><strong>Board of Directors:</strong> Overall governance oversight</li>
                                    <li><strong>Audit Committee:</strong> Oversees audits and IT risk management</li>
                                    <li><strong>IT Steering Committee:</strong> Strategic IT direction and investment prioritization</li>
                                    <li><strong>Chief Information Officer (CIO):</strong> Executes IT strategy</li>
                                    <li><strong>Chief Information Security Officer (CISO):</strong> Leads IT security</li>
                                    <li><strong>Internal Audit Function:</strong> Independent control assessment</li>
                                </ul>

                                <h3>IT Governance Mechanisms</h3>
                                <ul>
                                    <li>Decision Rights Framework - Clear definition of decision authority</li>
                                    <li>Policies and Procedures - Documented standards for IT activities</li>
                                    <li>Accountability Framework - RACI matrix defining roles</li>
                                    <li>Communication Flows - Regular reporting to Board</li>
                                    <li>Performance Measurement - KPIs and dashboards</li>
                                </ul>

                                <h3>Common IT Governance Challenges</h3>
                                <ul>
                                    <li>Shadow IT - Departments purchasing services without IT approval</li>
                                    <li>Unclear Decision Rights - Slow decision-making and approvals</li>
                                    <li>Weak Risk Management - Critical failures not anticipated</li>
                                    <li>Siloed IT Functions - Poor coordination between departments</li>
                                </ul>
                            `,
                            activity: {
                                type: "organizational",
                                title: "Governance Structure Design",
                                instruction: "Design IT governance for a financial services company with 2,000 employees and strict regulations (SOX, GDPR). Include: (1) IT Steering Committee composition, (2) 3 key decisions they'll make, (3) 3 governance mechanisms you'd implement."
                            },
                            quiz: [
                                {
                                    question: "What is the PRIMARY goal of IT Governance?",
                                    options: [
                                        { text: "Eliminate all IT risks", correct: false },
                                        { text: "Ensure IT supports business strategy while managing risks", correct: true },
                                        { text: "Replace IT management", correct: false },
                                        { text: "Reduce IT spending", correct: false }
                                    ]
                                },
                                {
                                    question: "What is the role of the IT Steering Committee?",
                                    options: [
                                        { text: "Operate IT systems daily", correct: false },
                                        { text: "Provide strategic IT direction and prioritize investments", correct: true },
                                        { text: "Replace the CIO", correct: false },
                                        { text: "Manage individual IT projects", correct: false }
                                    ]
                                },
                                {
                                    question: "What is 'Shadow IT'?",
                                    options: [
                                        { text: "Hidden IT equipment", correct: false },
                                        { text: "Departments purchasing technology without IT approval", correct: true },
                                        { text: "Undocumented IT security", correct: false },
                                        { text: "Intentionally hidden systems", correct: false }
                                    ]
                                }
                            ]
                        },
                        {
                            id: "w3l2",
                            title: "Control Environment and Internal Controls",
                            subtitle: "COSO framework and control design",
                            content: `
                                <h3>Understanding Control Environment</h3>
                                <p>The control environment is the foundation of all internal controls. It sets the tone at the top and includes management's commitment to integrity, ethical values, and competence. A strong control environment makes all other controls more effective.</p>

                                <h3>COSO Internal Control Framework - Five Components</h3>
                                <ul>
                                    <li><strong>1. Control Environment:</strong> Foundation - sets ethical tone and accountability</li>
                                    <li><strong>2. Risk Assessment:</strong> Identify risks that could prevent objectives</li>
                                    <li><strong>3. Control Activities:</strong> Specific policies designed to prevent or detect errors</li>
                                    <li><strong>4. Information & Communication:</strong> Capture and communicate relevant information</li>
                                    <li><strong>5. Monitoring Activities:</strong> Ongoing evaluation of controls</li>
                                </ul>

                                <div class="example-box">
                                    <strong>Example - Financial Data Accuracy:</strong><br>
                                    1. Control Environment: "Accurate reporting is priority"<br>
                                    2. Risk Assessment: "Unauthorized entries could corrupt data"<br>
                                    3. Control Activities: "Require supervisor approval for entries over $10K"<br>
                                    4. Communication: "Monthly accuracy reports to management"<br>
                                    5. Monitoring: "Annual audit of entries for compliance"
                                </div>

                                <h3>IT Control Categories</h3>
                                <ul>
                                    <li><strong>General IT Controls (GITCs):</strong> Infrastructure and security controls
                                        <ul>
                                            <li>Physical security and environmental controls</li>
                                            <li>Access controls and authentication</li>
                                            <li>System backups and disaster recovery</li>
                                            <li>Change management processes</li>
                                        </ul>
                                    </li>
                                    <li><strong>Application Controls:</strong> Specific controls for each application
                                        <ul>
                                            <li>Input validation - ensures correct data entry</li>
                                            <li>Processing controls - ensures correct calculations</li>
                                            <li>Output validation - ensures accurate results</li>
                                        </ul>
                                    </li>
                                </ul>

                                <h3>Preventive vs. Detective Controls</h3>
                                <ul>
                                    <li><strong>Preventive Controls:</strong> Prevent errors before they occur
                                        <ul>
                                            <li>Segregation of duties</li>
                                            <li>Approval requirements</li>
                                            <li>System validation rules</li>
                                        </ul>
                                    </li>
                                    <li><strong>Detective Controls:</strong> Identify errors after they occur
                                        <ul>
                                            <li>Reconciliations</li>
                                            <li>Exception reporting</li>
                                            <li>Audit trails</li>
                                        </ul>
                                    </li>
                                </ul>
                            `,
                            activity: {
                                type: "analysis",
                                title: "Control Assessment Exercise",
                                instruction: "Design controls for USER ACCESS MANAGEMENT. Objective: Ensure only authorized employees have appropriate system access. Identify: (1) 3 preventive controls, (2) 3 detective controls, (3) What risks does each control mitigate?"
                            },
                            quiz: [
                                {
                                    question: "What is the FOUNDATION of the COSO control framework?",
                                    options: [
                                        { text: "Risk Assessment", correct: false },
                                        { text: "Control Environment", correct: true },
                                        { text: "Monitoring Activities", correct: false },
                                        { text: "Control Activities", correct: false }
                                    ]
                                },
                                {
                                    question: "Which is an example of a PREVENTIVE control?",
                                    options: [
                                        { text: "Monthly reconciliation", correct: false },
                                        { text: "Segregation of duty preventing one person from approving and executing payment", correct: true },
                                        { text: "Review of exception reports", correct: false },
                                        { text: "Post-transaction audit", correct: false }
                                    ]
                                },
                                {
                                    question: "Which is an example of a DETECTIVE control?",
                                    options: [
                                        { text: "System validation rules", correct: false },
                                        { text: "Approval requirements", correct: false },
                                        { text: "Monthly bank reconciliation", correct: true },
                                        { text: "User access restrictions", correct: false }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    week: 4,
                    title: "IT Risk Management",
                    lessons: [
                        {
                            id: "w4l1",
                            title: "Risk Management Framework and Concepts",
                            subtitle: "Identification, assessment, and treatment",
                            content: `
                                <h3>Understanding IT Risk</h3>
                                <p>IT Risk is the probability and potential impact of an unfavorable event that could result in loss of data, system downtime, regulatory violations, financial loss, or reputational damage. Effective risk management is essential for organizational resilience.</p>

                                <h3>Risk Management Framework - 5-Step Process</h3>
                                <ul>
                                    <li><strong>1. Risk Identification:</strong> Identify potential risks and threats</li>
                                    <li><strong>2. Risk Analysis:</strong> Evaluate likelihood and business impact</li>
                                    <li><strong>3. Risk Evaluation:</strong> Determine overall risk priority</li>
                                    <li><strong>4. Risk Treatment:</strong> Implement controls to reduce risk</li>
                                    <li><strong>5. Risk Monitoring:</strong> Track and review risk status</li>
                                </ul>

                                <div class="example-box">
                                    <strong>Example - Customer Database Risk:</strong><br>
                                    1. Identification: "Database could be breached"<br>
                                    2. Analysis: "Likelihood=Medium, Impact=High ($10M potential loss)"<br>
                                    3. Evaluation: "Risk Score = 7/10 - High Priority"<br>
                                    4. Treatment: "Implement encryption, firewalls, access controls"<br>
                                    5. Monitoring: "Monthly security monitoring; quarterly penetration testing"
                                </div>

                                <h3>Common IT Risks</h3>
                                <ul>
                                    <li>Cybersecurity and data breaches</li>
                                    <li>System failures and downtime</li>
                                    <li>Inadequate disaster recovery</li>
                                    <li>Unauthorized access and data loss</li>
                                    <li>Third-party and vendor risks</li>
                                    <li>Regulatory non-compliance</li>
                                    <li>Obsolete systems lacking support</li>
                                </ul>

                                <h3>Risk Appetite vs. Risk Tolerance</h3>
                                <ul>
                                    <li><strong>Risk Appetite:</strong> Level of risk willing to accept to achieve objectives
                                        <ul>
                                            <li>Conservative (e.g., banks) - Accept only low risk</li>
                                            <li>Growth-focused (e.g., startups) - Accept moderate/high risk</li>
                                        </ul>
                                    </li>
                                    <li><strong>Risk Tolerance:</strong> Acceptable variation around specific objectives
                                        <ul>
                                            <li>Example: "System downtime maximum 4 hours per year"</li>
                                        </ul>
                                    </li>
                                </ul>
                            `,
                            activity: {
                                type: "identification",
                                title: "Risk Identification Exercise",
                                instruction: "You're conducting risk assessment for a HEALTHCARE ORGANIZATION. Identify 6 IT risks specific to healthcare, considering: (1) Security/privacy risks (HIPAA), (2) Operational risks (patient safety), (3) Compliance risks. For each, rate likelihood (H/M/L) and impact (H/M/L)."
                            },
                            quiz: [
                                {
                                    question: "What is the FIRST step in IT risk management?",
                                    options: [
                                        { text: "Risk Treatment", correct: false },
                                        { text: "Risk Identification", correct: true },
                                        { text: "Risk Monitoring", correct: false },
                                        { text: "Risk Evaluation", correct: false }
                                    ]
                                },
                                {
                                    question: "What is 'Risk Appetite'?",
                                    options: [
                                        { text: "Minimum acceptable risk level", correct: false },
                                        { text: "Level of risk organization is willing to accept to achieve objectives", correct: true },
                                        { text: "The risk management process", correct: false },
                                        { text: "Risk monitoring activity", correct: false }
                                    ]
                                },
                                {
                                    question: "Which is NOT a common IT risk?",
                                    options: [
                                        { text: "Data breach", correct: false },
                                        { text: "System downtime", correct: false },
                                        { text: "Inventory management errors", correct: true },
                                        { text: "Regulatory compliance violations", correct: false }
                                    ]
                                }
                            ]
                        },
                        {
                            id: "w4l2",
                            title: "Risk Assessment Techniques and Methods",
                            subtitle: "Qualitative, quantitative, and hybrid approaches",
                            content: `
                                <h3>Risk Assessment Methodologies</h3>
                                <p>Organizations use different risk assessment approaches depending on objectives, complexity, available data, and industry standards. A comprehensive approach combines multiple methods.</p>

                                <h3>Qualitative Risk Assessment</h3>
                                <p>Uses subjective judgment and expert opinion to prioritize risks.</p>

                                <h4>Process:</h4>
                                <ol>
                                    <li>Identify risks</li>
                                    <li>Rate likelihood: High, Medium, Low</li>
                                    <li>Rate impact: High, Medium, Low</li>
                                    <li>Calculate Risk Score = Likelihood Ã— Impact</li>
                                    <li>Prioritize based on score</li>
                                </ol>

                                <div class="example-box">
                                    <strong>Qualitative Assessment Example:</strong><br>
                                    SQL Injection Attack: Likelihood=Medium, Impact=High â†’ Score = 6/9 (High)<br>
                                    Hard Drive Failure: Likelihood=Low, Impact=Medium â†’ Score = 2/9 (Low)<br>
                                    Weak Passwords: Likelihood=High, Impact=High â†’ Score = 9/9 (Critical)
                                </div>

                                <h3>Quantitative Risk Assessment</h3>
                                <p>Uses numerical values and formulas to calculate financial risk impact.</p>

                                <h4>Key Formula - Annual Loss Expectancy (ALE):</h4>
                                <p><strong>ALE = Asset Value Ã— Exposure Factor Ã— Annual Rate of Occurrence</strong></p>

                                <div class="example-box">
                                    <strong>Quantitative Example:</strong><br>
                                    Database Server Failure:<br>
                                    â€¢ Asset Value: $500,000<br>
                                    â€¢ Exposure Factor: 50% (recover half from backups)<br>
                                    â€¢ Annual Rate: 0.5 (once every 2 years)<br>
                                    ALE = $500,000 Ã— 50% Ã— 0.5 = $125,000<br>
                                    Conclusion: Justify investment up to $125,000 annually in preventive controls
                                </div>

                                <h3>Risk Heat Map</h3>
                                <p>Visual representation of risks based on likelihood and impact, making it easy to identify high-priority risks.</p>

                                <h3>Risk Assessment Tools</h3>
                                <ul>
                                    <li>Risk Matrices and Heat Maps</li>
                                    <li>Threat Modeling</li>
                                    <li>Vulnerability Assessments</li>
                                    <li>Penetration Testing</li>
                                    <li>Scenario Analysis</li>
                                    <li>Expert Interviews</li>
                                    <li>Statistical Analysis</li>
                                </ul>

                                <h3>Qualitative vs. Quantitative Comparison</h3>
                                <ul>
                                    <li><strong>Qualitative:</strong> Fast, cost-effective, good for initial screening</li>
                                    <li><strong>Quantitative:</strong> Requires historical data, provides precise financial impact, requires more resources</li>
                                    <li><strong>Best Practice:</strong> Use hybrid approach combining both methods</li>
                                </ul>
                            `,
                            activity: {
                                type: "assessment",
                                title: "Risk Assessment Practice - Hybrid Approach",
                                instruction: "Perform qualitative AND quantitative risk assessment for EMAIL SYSTEM COMPROMISE. (1) Qualitative: Rate likelihood and impact, calculate score. (2) Quantitative: Assume $10K/hour downtime cost, 1x per year occurrence, 3-hour recovery. Calculate ALE. (3) Recommend 3 controls to mitigate this risk."
                            },
                            quiz: [
                                {
                                    question: "Which risk assessment method uses High, Medium, Low ratings?",
                                    options: [
                                        { text: "Quantitative", correct: false },
                                        { text: "Qualitative", correct: true },
                                        { text: "Numerical", correct: false },
                                        { text: "Statistical", correct: false }
                                    ]
                                },
                                {
                                    question: "What does ALE stand for?",
                                    options: [
                                        { text: "Annualized Loss Expectancy", correct: true },
                                        { text: "Annual Loss Evaluation", correct: false },
                                        { text: "Asset Level Estimation", correct: false },
                                        { text: "Average Loss Event", correct: false }
                                    ]
                                },
                                {
                                    question: "What is the ALE formula?",
                                    options: [
                                        { text: "Asset Value + Likelihood + Impact", correct: false },
                                        { text: "Asset Value Ã— Exposure Factor Ã— Annual Rate of Occurrence", correct: true },
                                        { text: "Likelihood Ã— Impact / Asset Value", correct: false },
                                        { text: "Risk Score Ã— Probability", correct: false }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    week: 5,
                    title: "IT Audit Planning and Execution",
                    lessons: [
                        {
                            id: "w5l1",
                            title: "IT Audit Planning and Objectives",
                            subtitle: "Creating comprehensive audit strategies",
                            content: `
                                <h3>Importance of Audit Planning</h3>
                                <p>Effective audit planning is crucial for conducting efficient and effective audits. A comprehensive plan provides the roadmap for audit execution, ensures all risks are addressed, and maximizes the value of audit work.</p>

                                <h3>Annual Audit Planning Process</h3>
                                <ul>
                                    <li><strong>Step 1:</strong> Define Audit Universe - All systems subject to audit</li>
                                    <li><strong>Step 2:</strong> Risk Assessment - Assess inherent risk in each area</li>
                                    <li><strong>Step 3:</strong> Risk Ranking - Prioritize audit areas by risk level</li>
                                    <li><strong>Step 4:</strong> Resource Planning - Determine staff and hours needed</li>
                                    <li><strong>Step 5:</strong> Create Annual Plan - Schedule audits by quarter</li>
                                    <li><strong>Step 6:</strong> Detailed Audit Plans - Develop specific audit programs</li>
                                </ul>

                                <div class="example-box">
                                    <strong>Example Annual IT Audit Plan for Bank:</strong><br>
                                    HIGH Risk â†’ Q1: Payment System (60 hours)<br>
                                    HIGH Risk â†’ Q2: User Access Control (60 hours)<br>
                                    MEDIUM Risk â†’ Q3: Disaster Recovery (40 hours)<br>
                                    LOW Risk â†’ Q4: Office Supplies (20 hours)
                                </div>

                                <h3>Audit Objectives - CIAAA Framework</h3>
                                <ul>
                                    <li><strong>Confidentiality:</strong> Are sensitive data protected from unauthorized disclosure?</li>
                                    <li><strong>Integrity:</strong> Is data accurate, complete, and uncorrupted?</li>
                                    <li><strong>Availability:</strong> Are systems available when needed?</li>
                                    <li><strong>Authenticity:</strong> Can we confirm identity of users and data sources?</li>
                                    <li><strong>Accountability:</strong> Can we trace actions to responsible parties?</li>
                                </ul>

                                <h3>Audit Scope Definition</h3>
                                <p>Scope clearly defines:</p>
                                <ul>
                                    <li>Systems and applications to be reviewed</li>
                                    <li>Time period covered by audit</li>
                                    <li>Geographic locations included</li>
                                    <li>User populations included</li>
                                    <li>What is specifically excluded and why</li>
                                </ul>

                                <h3>Audit Program Development</h3>
                                <p>The audit program is a detailed document that guides audit execution, including:</p>
                                <ul>
                                    <li>Specific audit procedures</li>
                                    <li>Testing methodology</li>
                                    <li>Evidence requirements</li>
                                    <li>Success criteria</li>
                                    <li>Estimated hours</li>
                                </ul>

                                <div class="example-box">
                                    <strong>Example Audit Procedure:</strong><br>
                                    Objective: Verify user access controls are effective<br>
                                    Procedure: Test random sample of 50 users; verify access matches job role; verify terminated users are removed within 5 days<br>
                                    Success Criteria: 95% or more meet requirements
                                </div>
                            `,
                            activity: {
                                type: "planning",
                                title: "Comprehensive Audit Plan Development",
                                instruction: "Develop a 3-month IT audit plan for USER ACCESS MANAGEMENT in a 1,000-person financial services company. Include: (1) Audit objectives, (2) Audit scope, (3) At least 3 specific audit procedures, (4) Success criteria, (5) Estimated time for each procedure."
                            },
                            quiz: [
                                {
                                    question: "What is the FIRST step in annual IT audit planning?",
                                    options: [
                                        { text: "Risk Assessment", correct: false },
                                        { text: "Define Audit Universe", correct: true },
                                        { text: "Resource Planning", correct: false },
                                        { text: "Create Audit Schedule", correct: false }
                                    ]
                                },
                                {
                                    question: "What does CIAAA stand for in audit objectives?",
                                    options: [
                                        { text: "Compliance, Integrity, Availability, Accuracy, Audit", correct: false },
                                        { text: "Confidentiality, Integrity, Availability, Authenticity, Accountability", correct: true },
                                        { text: "Control, Implementation, Analysis, Audit, Assessment", correct: false },
                                        { text: "Confidentiality, Integrity, Approval, Automation, Audit", correct: false }
                                    ]
                                },
                                {
                                    question: "What should an audit program include?",
                                    options: [
                                        { text: "Only the overall objectives", correct: false },
                                        { text: "Specific procedures, testing methodology, evidence requirements, success criteria", correct: true },
                                        { text: "Only the estimated hours", correct: false },
                                        { text: "Only the audit team members", correct: false }
                                    ]
                                }
                            ]
                        },
                        {
                            id: "w5l2",
                            title: "Audit Execution and Testing Techniques",
                            subtitle: "From fieldwork to reporting findings",
                            content: `
                                <h3>Audit Execution Phases</h3>
                                <ul>
                                    <li><strong>Phase 1 - Opening Meeting:</strong> Communicate audit objectives, scope, timeline</li>
                                    <li><strong>Phase 2 - Fieldwork:</strong> Perform audit procedures and testing</li>
                                    <li><strong>Phase 3 - Analysis:</strong> Analyze findings and develop conclusions</li>
                                    <li><strong>Phase 4 - Exit Meeting:</strong> Present preliminary findings to management</li>
                                    <li><strong>Phase 5 - Reporting:</strong> Issue formal audit report with findings</li>
                                    <li><strong>Phase 6 - Follow-up:</strong> Track management's remediation</li>
                                </ul>

                                <h3>Audit Testing Techniques</h3>
                                <ul>
                                    <li><strong>Inquiry:</strong> Ask questions; efficient but may be biased</li>
                                    <li><strong>Observation:</strong> Watch processes in action; limited time period</li>
                                    <li><strong>Inspection:</strong> Examine documents and records; historical evidence</li>
                                    <li><strong>Reperformance:</strong> Auditor repeats control; definitive evidence</li>
                                    <li><strong>Statistical Sampling:</strong> Test representative sample; efficient</li>
                                    <li><strong>Analytics & Data Analysis:</strong> Analyze patterns; identify anomalies</li>
                                </ul>

                                <div class="example-box">
                                    <strong>Example Testing Techniques:</strong><br>
                                    Procedure: "Verify all payments over $100K are approved by CFO"<br>
                                    â€¢ Inquiry: "Who approves large payments?"<br>
                                    â€¢ Observation: Watch payment authorization<br>
                                    â€¢ Inspection: Review 20 payment records<br>
                                    â€¢ Reperformance: Manually verify one payment<br>
                                    â€¢ Analytics: Query system for payments without CFO approval
                                </div>

                                <h3>Audit Findings - Severity Ratings</h3>
                                <ul>
                                    <li><strong>Critical:</strong> Significant financial loss or regulatory violation; immediate action</li>
                                    <li><strong>High:</strong> Moderate financial loss or control breakdown; 30-60 days</li>
                                    <li><strong>Medium:</strong> Process improvement opportunity; 60-90 days</li>
                                    <li><strong>Low:</strong> Minor improvement; lower priority</li>
                                </ul>

                                <h3>Audit Report Components</h3>
                                <ul>
                                    <li><strong>Executive Summary:</strong> High-level overview and conclusions</li>
                                    <li><strong>Audit Objective & Scope:</strong> What was audited and time period</li>
                                    <li><strong>Findings:</strong> Detailed description of each finding with evidence</li>
                                    <li><strong>Recommendations:</strong> Specific, actionable steps for remediation</li>
                                    <li><strong>Management Response:</strong> Planned actions and timelines</li>
                                </ul>

                                <h3>Audit Follow-up and Remediation</h3>
                                <ul>
                                    <li>Management provides remediation plan</li>
                                    <li>Audit function tracks progress</li>
                                    <li>Quarterly status updates to Audit Committee</li>
                                    <li>Follow-up testing verifies remediation</li>
                                    <li>Escalation if critical findings not remediated</li>
                                </ul>

                                <h3>Professional Audit Standards</h3>
                                <ul>
                                    <li>International Standards for Professional Practice of Internal Auditing (ISPPIA)</li>
                                    <li>ISACA's Standards for IT Audit Practice</li>
                                    <li>PCAOB Standards (public company audits)</li>
                                    <li>Relevant regulatory standards</li>
                                </ul>
                            `,
                            activity: {
                                type: "execution",
                                title: "Mock Audit Execution - Complete Scenario",
                                instruction: "You're conducting an audit of SYSTEM BACKUP PROCEDURES. Develop: (1) Three specific audit procedures with testing techniques, (2) Two potential findings with severity levels, (3) For each finding, draft a recommendation for management, (4) How would you track remediation progress?"
                            },
                            quiz: [
                                {
                                    question: "What is the FIRST phase of audit execution?",
                                    options: [
                                        { text: "Fieldwork", correct: false },
                                        { text: "Opening Meeting", correct: true },
                                        { text: "Exit Meeting", correct: false },
                                        { text: "Analysis", correct: false }
                                    ]
                                },
                                {
                                    question: "Which testing technique involves auditor repeating control procedures?",
                                    options: [
                                        { text: "Observation", correct: false },
                                        { text: "Inspection", correct: false },
                                        { text: "Reperformance", correct: true },
                                        { text: "Inquiry", correct: false }
                                    ]
                                },
                                {
                                    question: "What severity rating for finding causing immediate financial loss or regulatory violation?",
                                    options: [
                                        { text: "Low", correct: false },
                                        { text: "Medium", correct: false },
                                        { text: "High", correct: false },
                                        { text: "Critical", correct: true }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        };

        // State management
        let config = {
            course_title: "IT Audit Complete Course",
            welcome_message: "Master IT Audit fundamentals with comprehensive modules"
        };

        const defaultConfig = {
            course_title: "IT Audit Complete Course",
            welcome_message: "Master IT Audit fundamentals with comprehensive modules"
        };

        let allLessons = [];
        let completedLessons = [];

        // Element SDK Initialization
        window.elementSdk.init({
            defaultConfig: defaultConfig,
            onConfigChange: async (newConfig) => {
                config = newConfig;
                document.getElementById('courseTitle').textContent = config.course_title || defaultConfig.course_title;
                document.getElementById('welcomeMsg').textContent = config.welcome_message || defaultConfig.welcome_message;
            },
            mapToCapabilities: (config) => ({
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            }),
            mapToEditPanelValues: (config) => new Map([
                ["course_title", config.course_title || defaultConfig.course_title],
                ["welcome_message", config.welcome_message || defaultConfig.welcome_message]
            ])
        });

        // Data SDK Handler
        const dataHandler = {
            onDataChanged(data) {
                completedLessons = data;
                updateProgress();
                renderProgressTab();
            }
        };

        // Initialize Data SDK
        async function initializeDataSDK() {
            const result = await window.dataSdk.init(dataHandler);
            if (!result.isOk) {
                console.error("Data SDK initialization failed");
            }
        }

        // Populate all lessons
        function populateLessons() {
            courseData.weeks.forEach(week => {
                week.lessons.forEach(lesson => {
                    allLessons.push({
                        ...lesson,
                        weekNum: week.week,
                        weekTitle: week.title
                    });
                });
            });
        }

        // Render lessons list
        function renderLessons() {
            const container = document.getElementById('lessonsContainer');
            container.innerHTML = '';

            courseData.weeks.forEach(week => {
                const weekSection = document.createElement('div');
                weekSection.className = 'mb-8';
                weekSection.innerHTML = `<h2 class="text-2xl font-bold text-gray-900 mb-4">ðŸ“… Week ${week.week}: ${week.title}</h2>`;

                const lessonsGrid = document.createElement('div');
                lessonsGrid.className = 'grid md:grid-cols-2 gap-4';

                week.lessons.forEach(lesson => {
                    const completed = completedLessons.some(c => c.id === lesson.id);
                    const card = document.createElement('div');
                    card.className = 'card-hover bg-white rounded-lg p-6 border border-gray-200 cursor-pointer';
                    card.innerHTML = `
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex-1">
                                <h3 class="text-lg font-bold text-gray-900 mb-1">${lesson.title}</h3>
                                <p class="text-sm text-gray-600 mb-3">${lesson.subtitle}</p>
                                <p class="text-xs text-gray-500">ðŸ“š Rich content â€¢ ðŸ§ª Quiz â€¢ ðŸ“ Activity</p>
                            </div>
                            <span class="badge-${completed ? 'success' : 'pending'} px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap ml-2">
                                ${completed ? 'âœ… Done' : 'â³ Start'}
                            </span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${completed ? '100' : '0'}%"></div>
                        </div>
                    `;
                    card.addEventListener('click', () => openLesson(lesson, week.week));
                    lessonsGrid.appendChild(card);
                });

                weekSection.appendChild(lessonsGrid);
                container.appendChild(weekSection);
            });
        }

        // Open lesson modal
        function openLesson(lesson, weekNum) {
            const modal = document.getElementById('lessonModal');
            document.getElementById('modalTitle').textContent = lesson.title;
            document.getElementById('modalSubtitle').textContent = lesson.subtitle;
            document.getElementById('modalContent').innerHTML = lesson.content;

            // Activity
            const activityHTML = `
                <div class="activity-card">
                    <h4 class="font-bold text-gray-900 mb-2">ðŸ“ ${lesson.activity.title}</h4>
                    <p class="text-gray-600 mb-3 text-sm">${lesson.activity.instruction}</p>
                    <textarea class="w-full border border-gray-300 rounded-lg p-3 text-sm font-sans" placeholder="Write your response here..." style="min-height: 100px;"></textarea>
                </div>
            `;
            document.getElementById('modalActivity').innerHTML = activityHTML;

            // Quiz
            let quizHTML = '<div class="bg-blue-50 rounded-lg p-6 border border-blue-200"><h4 class="font-bold text-gray-900 mb-4">ðŸ§ª Knowledge Check Quiz</h4>';
            lesson.quiz.forEach((q, idx) => {
                quizHTML += `
                    <div class="mb-6">
                        <p class="font-bold text-gray-900 mb-3">Q${idx + 1}: ${q.question}</p>
                        ${q.options.map((opt, optIdx) => `
                            <div class="quiz-option" data-question="${idx}" data-option="${optIdx}">
                                <label class="flex items-center cursor-pointer">
                                    <input type="radio" name="q${idx}" data-correct="${opt.correct}" class="mr-3">
                                    <span class="text-sm">${opt.text}</span>
                                </label>
                            </div>
                        `).join('')}
                    </div>
                `;
            });
            quizHTML += '</div>';
            document.getElementById('modalQuiz').innerHTML = quizHTML;

            // Quiz interaction
            document.querySelectorAll('.quiz-option').forEach(option => {
                option.addEventListener('click', function() {
                    const question = this.dataset.question;
                    document.querySelectorAll(`[data-question="${question}"]`).forEach(opt => {
                        opt.classList.remove('selected', 'correct', 'incorrect');
                        opt.querySelector('input').checked = false;
                    });
                    this.classList.add('selected');
                    this.querySelector('input').checked = true;
                });
            });

            // Complete button
            const completeBtn = document.getElementById('completeBtn');
            completeBtn.style.display = 'block';
            completeBtn.onclick = async () => {
                const isCompleted = completedLessons.some(c => c.id === lesson.id);
                
                if (!isCompleted) {
                    completeBtn.disabled = true;
                    const result = await window.dataSdk.create({
                        id: lesson.id,
                        lessonId: lesson.id,
                        weekNum: weekNum,
                        lessonTitle: lesson.title,
                        completed: true,
                        quizScore: 85,
                        completedAt: new Date().toISOString()
                    });
                    
                    if (result.isOk) {
                        modal.classList.add('hidden');
                        completeBtn.disabled = false;
                    }
                } else {
                    modal.classList.add('hidden');
                }
            };

            modal.classList.remove('hidden');
        }

        // Close modal handlers
        document.querySelectorAll('.close-modal').forEach(btn => {
            btn.addEventListener('click', () => {
                document.getElementById('lessonModal').classList.add('hidden');
            });
        });

        document.getElementById('lessonModal').addEventListener('click', (e) => {
            if (e.target.id === 'lessonModal') {
                document.getElementById('lessonModal').classList.add('hidden');
            }
        });

        // Update progress
        function updateProgress() {
            const total = allLessons.length;
            const completed = completedLessons.length;
            const percentage = Math.round((completed / total) * 100);
            
            document.getElementById('progressPercent').textContent = percentage + '%';
            document.getElementById('overviewProgress').style.width = percentage + '%';
            document.getElementById('overviewText').textContent = `${completed} of ${total} lessons completed`;
        }

        // Render progress tab
        function renderProgressTab() {
            const progressList = document.getElementById('progressList');
            progressList.innerHTML = '';

            courseData.weeks.forEach(week => {
                const weekCompleted = completedLessons.filter(c => c.weekNum === week.week).length;
                const weekTotal = week.lessons.length;
                const weekPercentage = Math.round((weekCompleted / weekTotal) * 100);

                const weekProgress = document.createElement('div');
                weekProgress.className = 'mb-6 pb-6 border-b border-gray-200 last:border-b-0';
                weekProgress.innerHTML = `
                    <div class="flex items-center justify-between mb-3">
                        <h3 class="font-bold text-gray-900">Week ${week.week}: ${week.title}</h3>
                        <span class="text-sm font-bold text-purple-600">${weekPercentage}%</span>
                    </div>
                    <div class="progress-bar mb-3">
                        <div class="progress-fill" style="width: ${weekPercentage}%"></div>
                    </div>
                    <p class="text-sm text-gray-600">${weekCompleted} of ${weekTotal} lessons completed</p>
                `;
                progressList.appendChild(weekProgress);
            });
        }

        // Tab navigation
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const tabName = tab.dataset.tab;
                
                document.querySelectorAll('.nav-tab').forEach(t => {
                    t.classList.remove('tab-active');
                    t.classList.add('tab-inactive');
                });
                tab.classList.add('tab-active');
                tab.classList.remove('tab-inactive');

                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.add('hidden');
                });
                document.getElementById(tabName + 'Tab').classList.remove('hidden');
            });
        });

        // Initialize
        async function initialize() {
            await initializeDataSDK();
            populateLessons();
            renderLessons();
            updateProgress();
        }

        initialize();
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9ce3ad5a721dfed1',t:'MTc3MTE0NjY4MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
